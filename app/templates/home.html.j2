<html>
	<head>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-5EBP9QEVE6"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'G-5EBP9QEVE6');
		</script>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
		<script src="{{ url_for('static',filename='js/jquery-3.6.0.min.js') }}"></script>
		<script src="{{ url_for('static',filename='js/main.js') }}"></script>
		<title>Home - Text2Notes</title>
	</head>

	<body style="background: #8d8d8d; padding: 2%">
		{% with messages = get_flashed_messages(with_categories=true) %}
        	{% if messages %}
        		{% for category, message in messages %}
					<div class="alert alert-danger alert-dismissible fade show" role="alert">
    					<div>
							<p>Paragraph:</p>
							<p style="font-weight: 200;">"{{message}}"</p>
							<p>exceeds ~3000 word limit. Consider consolidating or splitting this piece of text.</p>
    					</div> 
    					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
        		{% endfor %}
      		{% endif %}
    	{% endwith %}

		<div style="position: absolute; margin-left: 86%;">
			<div style="padding: 0px 12px; display: inline">
				<a id="settings" data-toggle="modal" data-target="#settings_modal" style="cursor: pointer">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
						<path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
						<path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
					</svg>
				</a>
			</div>
			<button type="button" onclick="location.href='/about'">About</button>
		</div>
		<h1 style="font-family: Lucida Console, Courier New, monospace; padding-left: 1%">Text to Notes Converter (BETA)</h1>
		<br>

		<div style="text-align: center;">
			<div style="display: inline-block; width: 49%">
				<form action="/submit" method="post">
					<textarea id="text_in" name="text_in" placeholder="Paste from Textbook" style="width: 98%; height: 85%;">{{input}}</textarea>
					<br>
					<input type="submit" formmethod="post" id="submit">
				</form>
			</div>
			<div style="display: inline-block; width: 49%">
				<textarea id="text_out" value="text" placeholder="Notes Output" style="width: 98%; height: 85%;">{{output}}</textarea>
				<br>
				<div style="padding: 1px;">
					<input type="submit" id="copy_output" value="Copy">
				</div>
			</div>
		</div>
		<p>Pssst! Check out <a href="https://filess.org" target="_blank" rel="noreferrer">Filess</a>!!</p>

		<div class="modal fade" id="settings_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Settings</h5>
						<a class="close_settings" style="color: black; cursor: pointer">
							<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
								<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
							</svg>
						</a>
					</div>
					<div class="modal-body">
						Currently under development, Text2notes settings will enable users to specify keywords to indicate headings, change the output length, and possibly specify settings for a certain textbook from a list of supported ones.
						<form action="/update_settings" method="post">
							<textarea id="headings" name="headings" placeholder="Explicitly specify heading keywords" style="width: 98%; height: 40%;">{{headings}}</textarea>
							<!-- <input type="number" id="length" name="length" placeholder="Notes length"> -->
							<br>
							<input type="submit" formmethod="post" id="submit">
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary close_settings" data-dismiss="modal">Close</button>
						<button type="button" id="save_settings" class="btn btn-primary">Save changes</button>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
